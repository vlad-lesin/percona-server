# generated by tokudb_fast_update_int.py
source include/have_tokudb.inc;
source include/have_innodb.inc;
set default_storage_engine='tokudb';
set tokudb_disable_slow_update=1;
SET SESSION sql_mode=(SELECT REPLACE(@@sql_mode,'STRICT_TRANS_TABLES',''));
SET SESSION sql_mode=(SELECT REPLACE(@@sql_mode,'STRICT_ALL_TABLES',''));
disable_warnings;
drop table if exists t;
enable_warnings;
create table t (
    id tinyint  primary key,
    x tinyint  null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id tinyint  primary key,
    x tinyint  not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id tinyint unsigned primary key,
    x tinyint unsigned null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id tinyint unsigned primary key,
    x tinyint unsigned not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id smallint  primary key,
    x smallint  null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id smallint  primary key,
    x smallint  not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id smallint unsigned primary key,
    x smallint unsigned null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id smallint unsigned primary key,
    x smallint unsigned not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id mediumint  primary key,
    x mediumint  null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id mediumint  primary key,
    x mediumint  not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id mediumint unsigned primary key,
    x mediumint unsigned null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id mediumint unsigned primary key,
    x mediumint unsigned not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id int  primary key,
    x int  null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id int  primary key,
    x int  not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id int unsigned primary key,
    x int unsigned null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id int unsigned primary key,
    x int unsigned not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id bigint  primary key,
    x bigint  null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id bigint  primary key,
    x bigint  not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id bigint unsigned primary key,
    x bigint unsigned null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
create table t (
    id bigint unsigned primary key,
    x bigint unsigned not null
);
insert into t values (1,0),(2,0),(3,0);
select * from t;
update noar t set x=100 where id=2;
select * from t;
update noar t set x=x+1 where id=3;
select * from t;
update noar t set x=x-1 where id=3;
select * from t;
update noar t set x=x+100 where id=3;
select * from t;
update noar t set x=x-100 where id=3;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=1+x where id=1;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=-x where id=1;
update noar t set x=x+1 where id=100;
select * from t;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1 where 1 <= id and id < 100;
replace_regex /MariaDB/XYZ/ /MySQL/XYZ/;
error ER_UNSUPPORTED_EXTENSION;
update noar t set x=x+1;
drop table t;
